<template>
    <div id="sbgl">
        <div class="left">
            <div class="top">
                <div class="title">
                    <img src="../../assets/客户.svg">
                    <p>客户列表</p>
                </div>
                <el-tree style="background-color: #2b2b2b;color: #2ec7c9;font-size: 18px;" :data="data"
                    :props="defaultProps" default-expand-all></el-tree>
            </div>
        </div>
        <div class="right">
            <p>设备列表</p>
            <el-table :data="tableData" border style="width: 100vw; height: 78vh;border-radius: 5px;color: #49e0e2;"
                :header-cell-style="{ backgroundColor: '#062627', color: '#ffffff', fontSize: '14px' }">
                <el-table-column label="序号" type="index" align="center" />
                <el-table-column prop="number" label="设备号码" align="center" />
                <el-table-column prop="name" label="设备名称" align="center" />
                <el-table-column prop="title" label="主板型号" align="center" />
                <el-table-column prop="locatetime" label="最新在线时间" align="center" />
                <el-table-column prop="batNum" label="串数" align="center" />
                <el-table-column prop="standCur" label="额定电流" align="center" />
                <el-table-column prop="standCap" label="标称容量" align="center" />
                <el-table-column prop="surCap" label="剩余容量" align="center" />
                <el-table-column prop="soc" label="SOC" align="center" />
                <el-table-column label="操作" align="center" width="150">
                    <template #default="data">
                        <el-button type="text" size="default" @click="goibms(data.row)">BMS</el-button>
                        <el-button type="text" size="default" @click="goposition(data.row)">定位</el-button>
                        <el-button type="text" size="default" @click="lookinfo(data.row)">详情</el-button>
                    </template>
                </el-table-column>
            </el-table>
            <el-dialog v-model="dialogFormVisible" title="设备详情" width="850" style="background-color: #f3fdfd">
                <div style="display: flex;flex-direction: column; font-size: 17px;">
                    <div><span>设备号码: </span><span> {{ infodata.number }}</span></div>
                    <div><span>设备名称: </span><span> {{ infodata.name }}</span></div>
                    <div><span>设备型号: </span><span> {{ infodata.model }}</span></div>
                    <div><span>客户名称: </span><span> {{ infodata.operator }}</span></div>
                    <div><span>IMEI: </span><span> {{ infodata.imei }}</span></div>
                    <div><span>iccid: </span><span>{{ infodata.iccid }}</span></div>
                    <div><span>出厂日期: </span><span> {{ infodata.exit_time }}</span></div>
                    <div><span>到期日期: </span><span> {{ infodata.expire }}</span></div>
                    <div><span>车牌号: </span><span> {{ infodata.carId ? infodata.carId : "无" }}</span></div>
                    <div><span>电话号码: </span><span> {{ infodata.tel ? infodata.tel : "无" }}</span></div>
                    <div><span>铁塔编码: </span><span> {{ infodata.ttId }}</span></div>
                    <div><span>版本号: </span><span> {{ infodata.verno.slice(23, 64) }}</span></div>
                    <div><span>备注: </span><span>{{ infodata.deviceRemark ? infodata.deviceRemark : "无" }}</span></div>
                </div>
            </el-dialog>
        </div>
    </div>
</template>

<script setup lang="ts">
// 引入路由器
import { useRouter } from 'vue-router'
const router = useRouter()
import { ref, onMounted } from 'vue'
function randomNum(minNum: any, maxNum: any) {
    switch (arguments.length) {
        case 1:
            return parseInt(Math.random() * minNum + 1, 10);
        case 2:
            return parseInt(Math.random() * (maxNum - minNum + 1) + minNum, 10);
        default:
            return 0;
    }
}

function getRandomTimeMinusMinutes() {
    // 生成 10 到 30 之间的随机整数
    const randomMinutes = Math.floor(Math.random() * (30 - 10 + 1)) + 10;

    // 生成 0 到 59 之间的随机整数
    const randomSeconds = Math.floor(Math.random() * 60);

    // 获取当前时间
    const currentTime = new Date();

    // 减去随机分钟
    currentTime.setMinutes(currentTime.getMinutes() - randomMinutes);
    // 设置秒数为随机值
    currentTime.setSeconds(randomSeconds);

    return currentTime;
}
const data = [
    {
        label: `骥川农业无人车`,
    }
]
const defaultProps = {
    children: 'children',
    label: 'label'
}
const tableData = [
    {
        "id": "875133",
        "number": "613881726418",
        "name": "BM5661726418",
        "operator_id": "18917",
        "manufacturer_id": "0",
        "expire": "1756396799",
        "exit_time": "1721318400",
        "updatetime": "1723707041",
        "active_time": "1722142078",
        "scrap_flag": "0",
        "bakurl_id": "无",
        "imei": "865577079686771",
        "lat": "36.973930",
        "lng": "114.549980",
        "live": "1723793248",
        "locatetime": `${getRandomTimeMinusMinutes().toLocaleString()}`,
        "gnss": "0",
        "rssi": "82",
        "theftState": "未设防",
        "iccid": "89860464192480005033",
        "mile": "10.100000",
        "ttId": "BT104813512MT00241726418",
        "protocal_charge": "1",
        "bkUrl": "",
        "bkUrlSw": "0",
        "bakip_net": "0",
        "rs485_hand": "0",
        "sleep_set": "启用-未休眠",
        "rs485_active": "1",
        "oper_name": "骥川农业无人车",
        "manuf_name": "",
        "sChPtVolt": "3650",
        "sDchPtVolt": "2500",
        "standCur": "200",
        "chSwith": "开启",
        "dChSwith": "开启",
        "volt": "52.890",
        "chCur": "0.00",
        "dChCur": "0.00",
        "standCap": "135",
        "batNum": "16",
        "batType": "1",
        "loopNum": "1",
        "soc": `${randomNum(0, 100)}`,
        "surCap": `${randomNum(60, 135)}`,
        "workState": "闲置",
        "board": "2",
        "sVoltDifH": "0.006",
        "type": "默认类型",
        "is_bms": "1",
        "title": "BM566",
        "is_soft": "1",
        "devConfigName": ""
    },
    {
        "id": "875047",
        "number": "613881726332",
        "name": "BM5661726332",
        "operator_id": "18917",
        "manufacturer_id": "0",
        "expire": "1756396799",
        "exit_time": "1721318400",
        "updatetime": "1723707041",
        "active_time": "1722142076",
        "scrap_flag": "0",
        "bakurl_id": "无",
        "imei": "865577079512753",
        "lat": "36.973904",
        "lng": "114.550011",
        "live": "1723793294",
        "locatetime": `${getRandomTimeMinusMinutes().toLocaleString()}`,
        "gnss": "0",
        "rssi": "89",
        "theftState": "未设防",
        "iccid": "89860442192480011491",
        "mile": "7.800000",
        "ttId": "BT104813512MT00241726332",
        "protocal_charge": "1",
        "bkUrl": "",
        "bkUrlSw": "0",
        "bakip_net": "0",
        "rs485_hand": "0",
        "sleep_set": "启用-未休眠",
        "rs485_active": "1",
        "oper_name": "骥川农业无人车",
        "manuf_name": "",
        "sChPtVolt": "3650",
        "sDchPtVolt": "2500",
        "standCur": "200",
        "chSwith": "开启",
        "dChSwith": "开启",
        "volt": "52.950",
        "chCur": "0.00",
        "dChCur": "0.00",
        "standCap": "135",
        "batNum": "16",
        "batType": "1",
        "loopNum": "1",
        "soc": `${randomNum(0, 100)}`,
        "surCap": `${randomNum(60, 135)}`,
        "workState": "闲置",
        "board": "2",
        "sVoltDifH": "0.007",
        "type": "默认类型",
        "is_bms": "1",
        "title": "BM566",
        "is_soft": "1",
        "devConfigName": ""
    },
    {
        "id": "874967",
        "number": "613881726252",
        "name": "BM5661726252",
        "operator_id": "18917",
        "manufacturer_id": "0",
        "expire": "1756396799",
        "exit_time": "1721318400",
        "updatetime": "1723707041",
        "active_time": "1722142082",
        "scrap_flag": "0",
        "bakurl_id": "无",
        "imei": "865577079522422",
        "lat": "36.973927",
        "lng": "114.549873",
        "live": "1723793288",
        "locatetime": `${getRandomTimeMinusMinutes().toLocaleString()}`,
        "gnss": "0",
        "rssi": "88",
        "theftState": "未设防",
        "iccid": "89860442192480011377",
        "mile": "22.000000",
        "ttId": "BT104813512MT00241726252",
        "protocal_charge": "1",
        "bkUrl": "",
        "bkUrlSw": "0",
        "bakip_net": "0",
        "rs485_hand": "0",
        "sleep_set": "启用-未休眠",
        "rs485_active": "1",
        "oper_name": "骥川农业无人车",
        "manuf_name": "",
        "sChPtVolt": "3650",
        "sDchPtVolt": "2500",
        "standCur": "200",
        "chSwith": "开启",
        "dChSwith": "开启",
        "volt": "52.900",
        "chCur": "0.00",
        "dChCur": "0.00",
        "standCap": "135",
        "batNum": "16",
        "batType": "1",
        "loopNum": "1",
        "soc": `${randomNum(0, 100)}`,
        "surCap": `${randomNum(60, 135)}`,
        "workState": "闲置",
        "board": "2",
        "sVoltDifH": "0.005",
        "type": "默认类型",
        "is_bms": "1",
        "title": "BM566",
        "is_soft": "1",
        "devConfigName": ""
    },
    {
        "id": "874940",
        "number": "613881726225",
        "name": "BM5661726225",
        "operator_id": "18917",
        "manufacturer_id": "0",
        "expire": "1756396799",
        "exit_time": "1721318400",
        "updatetime": "1723707041",
        "active_time": "1722142077",
        "scrap_flag": "0",
        "bakurl_id": "无",
        "imei": "865577079697125",
        "lat": "36.973942",
        "lng": "114.549927",
        "live": "1723793288",
        "locatetime": `${getRandomTimeMinusMinutes().toLocaleString()}`,
        "gnss": "0",
        "rssi": "87",
        "theftState": "未设防",
        "iccid": "89860464192480005111",
        "mile": "89.500000",
        "ttId": "BT104813512MT00241726225",
        "protocal_charge": "1",
        "bkUrl": "",
        "bkUrlSw": "0",
        "bakip_net": "0",
        "rs485_hand": "0",
        "sleep_set": "启用-已休眠",
        "rs485_active": "0",
        "oper_name": "骥川农业无人车",
        "manuf_name": "",
        "sChPtVolt": "3650",
        "sDchPtVolt": "2500",
        "standCur": "200",
        "chSwith": "开启",
        "dChSwith": "开启",
        "volt": "52.950",
        "chCur": "0.00",
        "dChCur": "0.00",
        "standCap": "135",
        "batNum": "16",
        "batType": "1",
        "loopNum": "1",
        "soc": `${randomNum(0, 100)}`,
        "surCap": `${randomNum(60, 135)}`,
        "workState": "闲置",
        "board": "2",
        "sVoltDifH": "0.007",
        "type": "默认类型",
        "is_bms": "1",
        "title": "BM566",
        "is_soft": "1",
        "devConfigName": ""
    },
    {
        "id": "874939",
        "number": "613881726224",
        "name": "DYJ3",
        "operator_id": "18917",
        "manufacturer_id": "0",
        "expire": "1756396799",
        "exit_time": "1721318400",
        "updatetime": "1723707076",
        "active_time": "1722142076",
        "scrap_flag": "0",
        "bakurl_id": "无",
        "imei": "865577079513611",
        "lat": "37.010738",
        "lng": "114.558403",
        "live": "1723793232",
        "locatetime": `${getRandomTimeMinusMinutes().toLocaleString()}`,
        "gnss": "0",
        "rssi": "89",
        "theftState": "未设防",
        "iccid": "89860442192480011399",
        "mile": "7.500000",
        "ttId": "BT104813512MT00241726224",
        "protocal_charge": "1",
        "bkUrl": "",
        "bkUrlSw": "0",
        "bakip_net": "0",
        "rs485_hand": "0",
        "sleep_set": "启用-已休眠",
        "rs485_active": "0",
        "oper_name": "骥川农业无人车",
        "manuf_name": "",
        "sChPtVolt": "3650",
        "sDchPtVolt": "2500",
        "standCur": "200",
        "chSwith": "开启",
        "dChSwith": "开启",
        "volt": "52.940",
        "chCur": "0.00",
        "dChCur": "0.00",
        "standCap": "135",
        "batNum": "16",
        "batType": "1",
        "loopNum": "1",
        "soc": `${randomNum(0, 100)}`,
        "surCap": `${randomNum(60, 135)}`,
        "workState": "闲置",
        "board": "2",
        "sVoltDifH": "0.005",
        "type": "默认类型",
        "is_bms": "1",
        "title": "BM566",
        "is_soft": "1",
        "devConfigName": ""
    },
    {
        "id": "874932",
        "number": "613881726217",
        "name": "BM5661726217",
        "operator_id": "18917",
        "manufacturer_id": "0",
        "expire": "1756396799",
        "exit_time": "1721318400",
        "updatetime": "1723707041",
        "active_time": "1722142077",
        "scrap_flag": "0",
        "bakurl_id": "无",
        "imei": "865577079686110",
        "lat": "36.973934",
        "lng": "114.549919",
        "live": "1723793249",
        "locatetime": `${getRandomTimeMinusMinutes().toLocaleString()}`,
        "gnss": "0",
        "rssi": "85",
        "theftState": "未设防",
        "iccid": "89860442192480011368",
        "mile": "25.700000",
        "ttId": "BT104813512MT00241726217",
        "protocal_charge": "1",
        "bkUrl": "",
        "bkUrlSw": "0",
        "bakip_net": "0",
        "rs485_hand": "0",
        "sleep_set": "启用-已休眠",
        "rs485_active": "0",
        "oper_name": "骥川农业无人车",
        "manuf_name": "",
        "sChPtVolt": "3650",
        "sDchPtVolt": "2500",
        "standCur": "200",
        "chSwith": "开启",
        "dChSwith": "开启",
        "volt": "52.770",
        "chCur": "0.00",
        "dChCur": "0.00",
        "standCap": "135",
        "batNum": "16",
        "batType": "1",
        "loopNum": "1",
        "soc": `${randomNum(0, 100)}`,
        "surCap": `${randomNum(60, 135)}`,
        "workState": "闲置",
        "board": "2",
        "sVoltDifH": "0.006",
        "type": "默认类型",
        "is_bms": "1",
        "title": "BM566",
        "is_soft": "1",
        "devConfigName": ""
    },
    {
        "id": "874922",
        "number": "613881726207",
        "name": "BM5661726207",
        "operator_id": "18917",
        "manufacturer_id": "0",
        "expire": "1756396799",
        "exit_time": "1721318400",
        "updatetime": "1723707041",
        "active_time": "1722142077",
        "scrap_flag": "0",
        "bakurl_id": "无",
        "imei": "865577079685856",
        "lat": "36.973972",
        "lng": "114.549995",
        "live": "1723793276",
        "locatetime": `${getRandomTimeMinusMinutes().toLocaleString()}`,
        "gnss": "0",
        "rssi": "83",
        "theftState": "未设防",
        "iccid": "89860442192480011330",
        "mile": "167.600000",
        "ttId": "BT104813512MT00241726207",
        "protocal_charge": "1",
        "bkUrl": "",
        "bkUrlSw": "0",
        "bakip_net": "0",
        "rs485_hand": "0",
        "sleep_set": "启用-已休眠",
        "rs485_active": "0",
        "oper_name": "骥川农业无人车",
        "manuf_name": "",
        "sChPtVolt": "3650",
        "sDchPtVolt": "2500",
        "standCur": "200",
        "chSwith": "开启",
        "dChSwith": "开启",
        "volt": "52.950",
        "chCur": "0.00",
        "dChCur": "0.00",
        "standCap": "135",
        "batNum": "16",
        "batType": "1",
        "loopNum": "1",
        "soc": `${randomNum(0, 100)}`,
        "surCap": `${randomNum(60, 135)}`,
        "workState": "闲置",
        "board": "2",
        "sVoltDifH": "0.006",
        "type": "默认类型",
        "is_bms": "1",
        "title": "BM566",
        "is_soft": "1",
        "devConfigName": ""
    },
    {
        "id": "680964",
        "number": "613881551672",
        "name": "BM5661551672",
        "operator_id": "18917",
        "manufacturer_id": "0",
        "expire": "1756396799",
        "exit_time": "1716307200",
        "updatetime": "1723707041",
        "active_time": "1722142078",
        "scrap_flag": "0",
        "bakurl_id": "无",
        "imei": "865577077300953",
        "lat": "36.974052",
        "lng": "114.550278",
        "live": "1723793245",
        "locatetime": `${getRandomTimeMinusMinutes().toLocaleString()}`,
        "gnss": "0",
        "rssi": "83",
        "theftState": "未设防",
        "iccid": "898604E41923D0831855",
        "mile": "52.200000",
        "ttId": "BT104813512MT00241551672",
        "protocal_charge": "1",
        "bkUrl": "",
        "bkUrlSw": "0",
        "bakip_net": "0",
        "rs485_hand": "0",
        "sleep_set": "启用-已休眠",
        "rs485_active": "0",
        "oper_name": "骥川农业无人车",
        "manuf_name": "",
        "sChPtVolt": "3650",
        "sDchPtVolt": "2500",
        "standCur": "200",
        "chSwith": "开启",
        "dChSwith": "开启",
        "volt": "52.930",
        "chCur": "0.00",
        "dChCur": "0.00",
        "standCap": "135",
        "batNum": "16",
        "batType": "1",
        "loopNum": "1",
        "soc": `${randomNum(0, 100)}`,
        "surCap": `${randomNum(60, 135)}`,
        "workState": "闲置",
        "board": "2",
        "sVoltDifH": "0.005",
        "type": "默认类型",
        "is_bms": "1",
        "title": "BM566",
        "is_soft": "1",
        "devConfigName": ""
    },
    {
        "id": "680940",
        "number": "613881551648",
        "name": "DYJ2",
        "operator_id": "18917",
        "manufacturer_id": "0",
        "expire": "1750521599",
        "exit_time": "1716307200",
        "updatetime": "1720223998",
        "active_time": "1716632843",
        "scrap_flag": "0",
        "bakurl_id": "无",
        "imei": "865577077294537",
        "lat": "37.023155",
        "lng": "115.173096",
        "live": "1723793225",
        "locatetime": `${getRandomTimeMinusMinutes().toLocaleString()}`,
        "gnss": "0",
        "rssi": "80",
        "theftState": "未设防",
        "iccid": "898604E41923D0964928",
        "mile": "231.700000",
        "ttId": "BT104813512MT00241551648",
        "protocal_charge": "0",
        "bkUrl": "",
        "bkUrlSw": "0",
        "bakip_net": "0",
        "rs485_hand": "0",
        "sleep_set": "禁用-未休眠",
        "rs485_active": "1",
        "oper_name": "骥川农业无人车",
        "manuf_name": "",
        "sChPtVolt": "3650",
        "sDchPtVolt": "2500",
        "standCur": "200",
        "chSwith": "开启",
        "dChSwith": "开启",
        "volt": "53.350",
        "chCur": "0.00",
        "dChCur": "0.00",
        "standCap": "135",
        "batNum": "16",
        "batType": "1",
        "loopNum": "5",
        "soc": `${randomNum(0, 100)}`,
        "surCap": `${randomNum(60, 135)}`,
        "workState": "闲置",
        "board": "2",
        "sVoltDifH": "0.002",
        "type": "默认类型",
        "is_bms": "1",
        "title": "BM566",
        "is_soft": "1",
        "devConfigName": ""
    },
    {
        "id": "544644",
        "number": "613881416073",
        "name": "BM5661416073",
        "operator_id": "18917",
        "manufacturer_id": "0",
        "expire": "1735358400",
        "exit_time": "1701100800",
        "updatetime": "1723726536",
        "active_time": "1703672275",
        "scrap_flag": "0",
        "bakurl_id": "无",
        "imei": "865577075956178",
        "lat": "36.973850",
        "lng": "114.549728",
        "live": "1723793276",
        "locatetime": `${getRandomTimeMinusMinutes().toLocaleString()}`,
        "gnss": "0",
        "rssi": "83",
        "theftState": "未设防",
        "iccid": "898604E41923D0685867",
        "mile": "6391.200000",
        "ttId": "BT104813512MT00231416073",
        "protocal_charge": "1",
        "bkUrl": "",
        "bkUrlSw": "0",
        "bakip_net": "0",
        "rs485_hand": "0",
        "sleep_set": "启用-未休眠",
        "rs485_active": "1",
        "oper_name": "骥川农业无人车",
        "manuf_name": "",
        "sChPtVolt": "3650",
        "sDchPtVolt": "2500",
        "standCur": "200",
        "chSwith": "开启",
        "dChSwith": "开启",
        "volt": "53.310",
        "chCur": "0.00",
        "dChCur": "0.00",
        "standCap": "135",
        "batNum": "16",
        "batType": "1",
        "loopNum": "1",
        "soc": `${randomNum(0, 100)}`,
        "surCap": `${randomNum(60, 135)}`,
        "workState": "闲置",
        "board": "2",
        "sVoltDifH": "0.002",
        "type": "默认类型",
        "is_bms": "1",
        "title": "BM566",
        "is_soft": "1",
        "devConfigName": ""
    }
]
// 对话框
const dialogFormVisible = ref(false)
// 对话框详情数据
const infodatas = [
    {
        "id": "875133",
        "name": "BM5661726418",
        "number": "613881726418",
        "device_type": "33",
        "expire": "2025-08-28",
        "active_time": "2024-07-28",
        "exit_time": "2024-07-19",
        "operator_id": "18917",
        "tel": "",
        "carId": "",
        "deviceRemark": "",
        "bakurl_id": "0",
        "imei": "865577079686771",
        "lat": "36.973930",
        "lng": "114.549980",
        "live": "2024-08-19 11:57:45",
        "rssi": "82",
        "gnss": "0",
        "speed": "0.00",
        "locatetime": "2024-08-14 14:08:47",
        "theftState": "2",
        "verno": "BM566_V01_240511_LA_TT-MT20_BM566_VOR1.V01.01.LA.TT_240511170207-23-865577079686771-MCU566_F072_16S_240814_MT_DLD-460048433815758",
        "iccid": "89860464192480005033",
        "operator": "骥川农业无人车",
        "manufacturer": "",
        "deviceType": "默认类型",
        "is_bms": "1",
        "repairStatus": "",
        "orderStatus": "",
        "volt": "52.790",
        "soc": "96",
        "chCur": "0.00",
        "dChCur": "0.00",
        "model": "BM566",
        "is_soft": "1",
        "area": "",
        "title": "",
        "userPhone": "",
        "truename": "",
        "ttId": "BT104813512MT00241726418",
        "expireStatus": "未过期",
        "status": "2",
        "status_title": "待使用"
    },
    {
        "id": "875047",
        "name": "BM5661726332",
        "number": "613881726332",
        "device_type": "33",
        "expire": "2025-08-28",
        "active_time": "2024-07-28",
        "exit_time": "2024-07-19",
        "operator_id": "18917",
        "tel": "",
        "carId": "",
        "deviceRemark": "",
        "bakurl_id": "0",
        "imei": "865577079512753",
        "lat": "36.973904",
        "lng": "114.550011",
        "live": "2024-08-19 11:58:52",
        "rssi": "87",
        "gnss": "0",
        "speed": "0.00",
        "locatetime": "2024-08-14 14:13:10",
        "theftState": "2",
        "verno": "BM566_V01_240511_LA_TT-MT20_BM566_VOR1.V01.01.LA.TT_240511170207-23-865577079512753-MCU566_F072_16S_240814_MT_DLD-460046255116487",
        "iccid": "89860442192480011491",
        "operator": "骥川农业无人车",
        "manufacturer": "",
        "deviceType": "默认类型",
        "is_bms": "1",
        "repairStatus": "",
        "orderStatus": "",
        "volt": "52.840",
        "soc": "100",
        "chCur": "0.00",
        "dChCur": "0.00",
        "model": "BM566",
        "is_soft": "1",
        "area": "",
        "title": "",
        "userPhone": "",
        "truename": "",
        "ttId": "BT104813512MT00241726332",
        "expireStatus": "未过期",
        "status": "2",
        "status_title": "待使用"
    },
    {
        "id": "874967",
        "name": "BM5661726252",
        "number": "613881726252",
        "device_type": "33",
        "expire": "2025-08-28",
        "active_time": "2024-07-28",
        "exit_time": "2024-07-19",
        "operator_id": "18917",
        "tel": "",
        "carId": "",
        "deviceRemark": "",
        "bakurl_id": "0",
        "imei": "865577079522422",
        "lat": "36.973927",
        "lng": "114.549873",
        "live": "2024-08-19 11:57:31",
        "rssi": "88",
        "gnss": "0",
        "speed": "0.00",
        "locatetime": "2024-08-15 15:19:50",
        "theftState": "2",
        "verno": "BM566_V01_240511_LA_TT-MT20_BM566_VOR1.V01.01.LA.TT_240511170207-23-865577079522422-MCU566_F072_16S_240814_MT_DLD-460046255116373",
        "iccid": "89860442192480011377",
        "operator": "骥川农业无人车",
        "manufacturer": "",
        "deviceType": "默认类型",
        "is_bms": "1",
        "repairStatus": "",
        "orderStatus": "",
        "volt": "52.800",
        "soc": "95",
        "chCur": "0.00",
        "dChCur": "0.00",
        "model": "BM566",
        "is_soft": "1",
        "area": "",
        "title": "",
        "userPhone": "",
        "truename": "",
        "ttId": "BT104813512MT00241726252",
        "expireStatus": "未过期",
        "status": "2",
        "status_title": "待使用"
    },
    {
        "id": "874940",
        "name": "BM5661726225",
        "number": "613881726225",
        "device_type": "33",
        "expire": "2025-08-28",
        "active_time": "2024-07-28",
        "exit_time": "2024-07-19",
        "operator_id": "18917",
        "tel": "",
        "carId": "",
        "deviceRemark": "",
        "bakurl_id": "0",
        "imei": "865577079697125",
        "lat": "36.973942",
        "lng": "114.549927",
        "live": "2024-08-19 11:58:05",
        "rssi": "86",
        "gnss": "0",
        "speed": "0.00",
        "locatetime": "2024-08-14 14:13:22",
        "theftState": "2",
        "verno": "BM566_V01_240511_LA_TT-MT20_BM566_VOR1.V01.01.LA.TT_240511170207-23-865577079697125-MCU566_F072_16S_240814_MT_DLD-460048433815836",
        "iccid": "89860464192480005111",
        "operator": "骥川农业无人车",
        "manufacturer": "",
        "deviceType": "默认类型",
        "is_bms": "1",
        "repairStatus": "",
        "orderStatus": "",
        "volt": "52.870",
        "soc": "99",
        "chCur": "0.00",
        "dChCur": "0.00",
        "model": "BM566",
        "is_soft": "1",
        "area": "",
        "title": "",
        "userPhone": "",
        "truename": "",
        "ttId": "BT104813512MT00241726225",
        "expireStatus": "未过期",
        "status": "2",
        "status_title": "待使用"
    },
    {
        "id": "874939",
        "name": "DYJ3",
        "number": "613881726224",
        "device_type": "33",
        "expire": "2025-08-28",
        "active_time": "2024-07-28",
        "exit_time": "2024-07-19",
        "operator_id": "18917",
        "tel": "",
        "carId": "",
        "deviceRemark": "",
        "bakurl_id": "0",
        "imei": "865577079513611",
        "lat": "37.010216",
        "lng": "114.558617",
        "live": "2024-08-19 11:59:33",
        "rssi": "88",
        "gnss": "0",
        "speed": "0.00",
        "locatetime": "2024-08-18 17:50:42",
        "theftState": "2",
        "verno": "BM566_V01_240511_LA_TT-MT20_BM566_VOR1.V01.01.LA.TT_240511170207-23-865577079513611-MCU566_F072_16S_240814_MT_DLD-460046255116395",
        "iccid": "89860442192480011399",
        "operator": "骥川农业无人车",
        "manufacturer": "",
        "deviceType": "默认类型",
        "is_bms": "1",
        "repairStatus": "",
        "orderStatus": "",
        "volt": "52.850",
        "soc": "100",
        "chCur": "0.00",
        "dChCur": "0.00",
        "model": "BM566",
        "is_soft": "1",
        "area": "",
        "title": "",
        "userPhone": "",
        "truename": "",
        "ttId": "BT104813512MT00241726224",
        "expireStatus": "未过期",
        "status": "2",
        "status_title": "待使用"
    },
    {
        "id": "874932",
        "name": "BM5661726217",
        "number": "613881726217",
        "device_type": "33",
        "expire": "2025-08-28",
        "active_time": "2024-07-28",
        "exit_time": "2024-07-19",
        "operator_id": "18917",
        "tel": "",
        "carId": "",
        "deviceRemark": "",
        "bakurl_id": "0",
        "imei": "865577079686110",
        "lat": "36.973934",
        "lng": "114.549919",
        "live": "2024-08-19 12:00:16",
        "rssi": "82",
        "gnss": "0",
        "speed": "0.00",
        "locatetime": "2024-08-14 14:14:19",
        "theftState": "2",
        "verno": "BM566_V01_240511_LA_TT-MT20_BM566_VOR1.V01.01.LA.TT_240511170207-23-865577079686110-MCU566_F072_16S_240814_MT_DLD-460046255116364",
        "iccid": "89860442192480011368",
        "operator": "骥川农业无人车",
        "manufacturer": "",
        "deviceType": "默认类型",
        "is_bms": "1",
        "repairStatus": "",
        "orderStatus": "",
        "volt": "52.740",
        "soc": "97",
        "chCur": "0.00",
        "dChCur": "0.00",
        "model": "BM566",
        "is_soft": "1",
        "area": "",
        "title": "",
        "userPhone": "",
        "truename": "",
        "ttId": "BT104813512MT00241726217",
        "expireStatus": "未过期",
        "status": "2",
        "status_title": "待使用"
    },
    {
        "id": "874922",
        "name": "BM5661726207",
        "number": "613881726207",
        "device_type": "33",
        "expire": "2025-08-28",
        "active_time": "2024-07-28",
        "exit_time": "2024-07-19",
        "operator_id": "18917",
        "tel": "",
        "carId": "",
        "deviceRemark": "",
        "bakurl_id": "0",
        "imei": "865577079685856",
        "lat": "36.973972",
        "lng": "114.549995",
        "live": "2024-08-19 12:00:13",
        "rssi": "83",
        "gnss": "0",
        "speed": "0.00",
        "locatetime": "2024-08-14 14:10:50",
        "theftState": "2",
        "verno": "BM566_V01_240511_LA_TT-MT20_BM566_VOR1.V01.01.LA.TT_240511170207-23-865577079685856-MCU566_F072_16S_240814_MT_DLD-460046255116326",
        "iccid": "89860442192480011330",
        "operator": "骥川农业无人车",
        "manufacturer": "",
        "deviceType": "默认类型",
        "is_bms": "1",
        "repairStatus": "",
        "orderStatus": "",
        "volt": "52.870",
        "soc": "100",
        "chCur": "0.00",
        "dChCur": "0.00",
        "model": "BM566",
        "is_soft": "1",
        "area": "",
        "title": "",
        "userPhone": "",
        "truename": "",
        "ttId": "BT104813512MT00241726207",
        "expireStatus": "未过期",
        "status": "2",
        "status_title": "待使用"
    },
    {
        "id": "680964",
        "name": "BM5661551672",
        "number": "613881551672",
        "device_type": "33",
        "expire": "2025-08-28",
        "active_time": "2024-07-28",
        "exit_time": "2024-05-22",
        "operator_id": "18917",
        "tel": "",
        "carId": "",
        "deviceRemark": "",
        "bakurl_id": "0",
        "imei": "865577077300953",
        "lat": "36.974052",
        "lng": "114.550278",
        "live": "2024-08-19 12:00:49",
        "rssi": "86",
        "gnss": "0",
        "speed": "0.00",
        "locatetime": "2024-08-14 14:13:41",
        "theftState": "2",
        "verno": "BM566_V01_231201_LA_TT-MT20_BM566_VOR1.V01.01.LA.TT_231201183654-23-865577077300953-MCU566_F072_16S_240814_MT_DLD-460086427600855",
        "iccid": "898604E41923D0831855",
        "operator": "骥川农业无人车",
        "manufacturer": "",
        "deviceType": "默认类型",
        "is_bms": "1",
        "repairStatus": "",
        "orderStatus": "",
        "volt": "52.840",
        "soc": "100",
        "chCur": "0.00",
        "dChCur": "0.00",
        "model": "BM566",
        "is_soft": "1",
        "area": "",
        "title": "",
        "userPhone": "",
        "truename": "",
        "ttId": "BT104813512MT00241551672",
        "expireStatus": "未过期",
        "status": "2",
        "status_title": "待使用"
    },
    {
        "id": "680940",
        "name": "DYJ2",
        "number": "613881551648",
        "device_type": "33",
        "expire": "2025-06-21",
        "active_time": "2024-05-25",
        "exit_time": "2024-05-22",
        "operator_id": "18917",
        "tel": "",
        "carId": "",
        "deviceRemark": "",
        "bakurl_id": "0",
        "imei": "865577077294537",
        "lat": "37.023369",
        "lng": "115.174988",
        "live": "2024-08-19 12:00:35",
        "rssi": "82",
        "gnss": "0",
        "speed": "0.00",
        "locatetime": "2024-08-17 07:24:04",
        "theftState": "2",
        "verno": "BM566_V01_231201_LA_TT-MT20_BM566_VOR1.V01.01.LA.TT_231201183654-23-865577077294537-MCU566_F072_6_16S_C_231204-460086428903928",
        "iccid": "898604E41923D0964928",
        "operator": "骥川农业无人车",
        "manufacturer": "",
        "deviceType": "默认类型",
        "is_bms": "1",
        "repairStatus": "",
        "orderStatus": "",
        "volt": "52.680",
        "soc": "50",
        "chCur": "0.00",
        "dChCur": "0.00",
        "model": "BM566",
        "is_soft": "1",
        "area": "",
        "title": "",
        "userPhone": "",
        "truename": "",
        "ttId": "BT104813512MT00241551648",
        "expireStatus": "未过期",
        "status": "2",
        "status_title": "待使用"
    },
    {
        "id": "544644",
        "name": "BM5661416073",
        "number": "613881416073",
        "device_type": "33",
        "expire": "2024-12-28",
        "active_time": "2023-12-27",
        "exit_time": "2023-11-28",
        "operator_id": "18917",
        "tel": "",
        "carId": "",
        "deviceRemark": "",
        "bakurl_id": "0",
        "imei": "865577075956178",
        "lat": "36.973850",
        "lng": "114.549728",
        "live": "2024-08-19 12:00:46",
        "rssi": "83",
        "gnss": "0",
        "speed": "0.00",
        "locatetime": "2024-08-14 14:14:26",
        "theftState": "2",
        "verno": "BM566_V01_231201_LA_TT-MT20_BM566_VOR1.V01.01.LA.TT_231201183654-23-865577075956178-MCU566_F072_16S_240814_MT_DLD-460086426104867",
        "iccid": "898604E41923D0685867",
        "operator": "骥川农业无人车",
        "manufacturer": "",
        "deviceType": "默认类型",
        "is_bms": "1",
        "repairStatus": "",
        "orderStatus": "",
        "volt": "53.280",
        "soc": "97",
        "chCur": "0.00",
        "dChCur": "0.00",
        "model": "BM566",
        "is_soft": "1",
        "area": "",
        "title": "",
        "userPhone": "",
        "truename": "",
        "ttId": "BT104813512MT00231416073",
        "expireStatus": "未过期",
        "status": "2",
        "status_title": "待使用"
    }
]

let infodata = ref({})

// 查看详情
const lookinfo = (data: any) => {
    dialogFormVisible.value = true
    // 对话框具体数据
    infodata.value = infodatas.find(obj => obj.number === data.number)
}
// goibms
const goibms = (data: any) => {
    router.push({
        path: '/ibms',
        query: {
            number: data.number
        }
    })
}

// goposition
const goposition = (data: any) => {
    router.push({
        path: '/position',
        query: {
            lng: data.lng,
            lat: data.lat,
            zoom: 16
        }
    })
}
</script>

<style scoped lang="scss">
#sbgl {
    width: 100vw;
    height: 100vh;
    display: flex;
    padding: 10px;
    background-color: #000000;

    .left {
        width: 17%;
        height: 82%;
        border-radius: 15px;
        margin-right: 20px;
        color: white;

        .top {
            height: 100%;
            border-radius: 15px;
            background-color: #2b2b2b;
            margin-bottom: 10px;
            padding: 20px;

            .title {
                display: flex;
                align-items: center;
                margin-bottom: 20px;

                p {
                    margin-left: 5px;
                    font-weight: bold;
                }
            }


        }


    }

    .right {
        width: 78%;
        height: 82%;
        border-radius: 15px;
        background-color: #1c1c1c;
        margin-right: 29px;
        padding: 20px;

        p {
            color: white;
            font-size: 18px;
            margin-bottom: 15px;
        }

        ::v-deep(.el-table__row) {
            background-color: #5f6666 !important;
        }

        ::v-deep(.el-button) {
            color: #77dff5;
        }
    }

}
</style>
